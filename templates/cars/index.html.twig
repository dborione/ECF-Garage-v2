{% extends 'base.html.twig' %}

{% block title %}Garage!
{% endblock %}

{% block body %}
	{% include "cars/nav.html.twig" %}
	<script>
		const cars = {% for cars in cars %};
console.table(cars);
function filter(e) {
e.nextElementSibling.value = e.value;
const filteredCars = cars.filter(c => c.kilometers >= e.value);
console.clear();
console.table(filteredCars);{% endfor %}
}
	</script>
	<!-- Section Title -->
	<div class="max-w-[85rem] px-6 pt-32 mx-8 sm:px-6 sm:py-15 lg:max-w-7xl lg:px-6">
		<h2 class="text-2xl font-bold tracking-tight text-gray-900">All of our cars on sale</h2>
	</div>
	<!-- End Section Title -->
	{% include "cars/search.html.twig" %}

	{# <div class="relative slidecontainer">
							  {% for highest_km in highest_km %}
							  {% for lowest_km in lowest_km %}
							      <p>Show all cars between <span class="slider-time">{{ lowest_km }} km </span> and <span class="slider-time2">{{ highest_km }} km</span></p>
							      <label for="labels-range-input" class="sr-only">Labels range</label>
							      {{ lowest_km }} km <input onchange="filter(this)" id="labels-range-input" type="range" step="100" min={{ lowest_km }} max={{ highest_km }} value="50" class="slider" id="myRange"> {{ highest_km }} km #}
	{# <span class="text-sm text-gray-500 dark:text-gray-400 absolute start-0 -bottom-6">Min ($100)</span>
							      <span class="text-sm text-gray-500 dark:text-gray-400 absolute start-1/3 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">$500</span>
							      <span class="text-sm text-gray-500 dark:text-gray-400 absolute start-2/3 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">$1000</span>
							      <span class="text-sm text-gray-500 dark:text-gray-400 absolute end-0 -bottom-6">Max ($1500)</span> #}
	{# {% endfor %}
							  {% endfor %}
							  </div> #}


	<!-- Cars Section -->
		<div
		class="max-w-[85rem] px-4 py-6 sm:px-6 lg:px-8 lg:py-8 mx-auto"> <!-- Grid -->
		<div
			class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
			<!-- Card -->
			{% for car in cars %}
				<a href={{ path('app_cars_slug', {'slug': car.slug} ) }}>
					<div class="group group-hover:opacity-75 flex flex-col h-full bg-white shadow-lg rounded-xl dark:bg-slate-900 dark:border-gray-700 dark:shadow-slate-700/[.7]">
						<div class="h-52 flex flex-col justify-center items-center bg-gray-200 rounded-t-xl">
							<img src={{ car.image }} alt="Image of the car" class="h-full w-full object-cover object-center lg:h-full lg:w-full rounded-t-xl">
						</div>
						<div class="p-4 md:p-6">
							<span class="block mb-1 text-s font-semibold uppercase text-blue-600 dark:text-blue-500">
								{{ car.price }}
								â‚¬
							</span>
							<h3 class="text-l font-semibold text-gray-800 dark:text-gray-300 dark:hover:text-white">
								{{ car.title }}
							</h3>
							<p class="text-s mt-3 text-gray-500">
								{{ car.description }}
							</p>
						</div>
						<div class="mt-auto flex border-t border-gray-200 divide-x divide-gray-200 dark:border-gray-700 dark:divide-gray-700">
							<p class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium">
								{{ car.kilometers }}
								km
							</p>
							<p class="w-full py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium">
								{{ car.year }}
							</p>
						</div>
					</div>
				{% endfor %}
			</a>
			<!-- End Card -->
		</div>
		<!-- End Grid -->
	</div>
	{% include "cars/footer.html.twig" %}
	<!-- End Card Blog -->
	<script src={{ asset("/app.js")}}></script>

{% endblock %}
